<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
        <link rel="stylesheet" href="test.css">
    </head>
    <body>
        <button id="load">Load</button>
        <div id="lights_container">
            <div class="bulbs_container">
                <div class="bulb_up"></div>
                <div class="bulb"></div>
            </div>
            <div class="bulbs_container">
                <div class="bulb_up"></div>
                <div class="bulb"></div>
            </div>
            <div class="bulbs_container">
                <div class="bulb_up"></div>
                <div class="bulb"></div>
            </div>
            <div class="bulbs_container">
                <div class="bulb_up"></div>
                <div class="bulb"></div>
            </div>
            <div class="bulbs_container">
                <div class="bulb_up"></div>
                <div class="bulb"></div>
            </div>
        </div>
        <div id="txt">DONE</div>
        <script>
            const loadButton = document.getElementById("load");
            const lightsContainer = document.getElementById("lights_container");
            const txt = document.getElementById("txt");
    
            loadButton.addEventListener("click", () => {
                lightsContainer.style.visibility = 'visible';     
                const bulbs = document.querySelectorAll('.bulb');
                const delay = 1000;
                const totalBulbs = bulbs.length;
    
                bulbs.forEach((bulb, index) => {
                    setTimeout(() => {
                        bulb.classList.add('red_light');
                    }, index * delay);
                });
    
                setTimeout(() => {
                    bulbs.forEach(bulb => bulb.classList.remove('red_light'));
                    lightsContainer.style.visibility="hidden";
                    txt.style.visibility = 'visible';
                }, totalBulbs * delay);
            });
        </script>
     
    </body>
</html>


